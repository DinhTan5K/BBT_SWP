@model UserProfileViewModel
@{
    ViewData["Title"] = "Thông tin cá nhân";
}

<div class="container py-4">
    <h2>Thông tin cá nhân</h2>

    <div class="card" style="max-width:800px;">
        <div class="card-body d-flex gap-3">
            <div class="avatar" style="width:120px; height:120px;">
                @if (!string.IsNullOrEmpty(Model.AvatarUrl))
                {
                    <img src="@Model.AvatarUrl" alt="Avatar" style="width:120px;height:120px;border-radius:50%;object-fit:cover;" />
                }
                else
                {
                    <div style="width:120px;height:120px;border-radius:50%;background:#eee;display:flex;align-items:center;justify-content:center;font-size:36px;color:#666;">
                        @(
                          !string.IsNullOrEmpty(Model.Name) 
                          ? Model.Name.Substring(0,1).ToUpper() 
                          : "U"
                        )
                    </div>
                }
            </div>

            <div class="flex-fill">
                <h4>@(Model.Name ?? "Người dùng")</h4>
                <p class="mb-1"><strong>Email:</strong> @(Model.Email ?? "-")</p>
                <p class="mb-1"><strong>Số điện thoại:</strong> @(Model.Phone ?? "-")</p>
                <p class="mb-1"><strong>Ngày sinh:</strong> @(Model.BirthDate?.ToString("dd/MM/yyyy") ?? "-")</p>
                <p class="mb-1"><strong>Địa chỉ:</strong> @(Model.Address ?? "-")</p>

                <div class="mt-3">
                    @if (Model.LoginProvider == "Local")  
                    {
                        <a asp-controller="Account" asp-action="ChangePassword" class="btn btn-secondary me-2">Đổi mật khẩu</a>
                    }
                    <a asp-controller="Account" asp-action="Logout" class="btn btn-danger">Đăng xuất</a>
                </div>
            </div>
        </div>
    </div>
</div>
