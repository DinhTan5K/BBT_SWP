@using System.Security.Claims
    @{
        var currentAction = ViewContext.RouteData.Values["Action"]?.ToString();
        var currentController = ViewContext.RouteData.Values["Controller"]?.ToString();
    }

    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>@ViewData["Title"] - Buble Tea Manager</title>

        <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" />

        <link rel="stylesheet" href="~/css/bmanager.css" asp-append-version="true" />

        @await RenderSectionAsync("Styles", required: false)
    </head>
    <body>
        <nav class="sidebar">
            <div>
                <h4 class="mb-1">Buble Tea</h4>
                <h5 class="text-muted">Quản lý Chi nhánh</h5>
                <hr class="bg-secondary" style="color: #6c757d;"/>
                <ul class="nav flex-column">
                    <li class="nav-item">
                        <a class="nav-link @(currentAction == "Index" ? "active" : "")" asp-area="BManager" asp-controller="BManager" asp-action="Index">
                            <i class="fas fa-tachometer-alt fa-fw"></i> Tổng quan
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link @(currentAction == "ViewEmp" ? "active" : "")" asp-area="BManager" asp-controller="BManager" asp-action="ViewEmp">
                            <i class="fas fa-users fa-fw"></i> Quản lý nhân viên
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link @(currentAction == "WorkSchedule" ? "active" : "")" asp-area="BManager" asp-controller="BManager" asp-action="WorkSchedule">
                            <i class="fas fa-calendar-alt fa-fw"></i> Lịch làm việc
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link @(currentAction == "ViewProduct" ? "active" : "")" asp-area="BManager" asp-controller="BManager" asp-action="ViewProduct">
                            <i class="fas fa-box-open fa-fw"></i> Quản lý sản phẩm
                        </a>
                    </li>
                    @* <li class="nav-item">
                        <a class="nav-link @(currentAction == "CreateNews" ? "active" : "")" asp-area="BManager" asp-controller="BManager" asp-action="CreateNews">
                            <i class="fas fa-newspaper fa-fw"></i> Tạo tin tức
                        </a>
                    </li> *@

                    </li>
                    <li class="nav-item">
                        <a class="nav-link @(currentAction == "RevenueReport" ? "active" : "")" asp-area="BManager" asp-controller="BManager" asp-action="RevenueReport">
                            <i class="fas fa-chart-line fa-fw"></i> Báo cáo doanh thu
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link @(currentAction == "SalaryReport" ? "active" : "")" asp-area="BManager" asp-controller="BManager" asp-action="SalaryReport">
                            <i class="fas fa-file-invoice-dollar fa-fw"></i> Báo cáo lương
                        </a>
                    </li>
                </ul>
            </div>

            <div class="logout-section">
                <hr class="bg-secondary" style="color: #6c757d;"/>
                <a class="btn btn-sm btn-outline-danger w-100" asp-controller="Account" asp-action="Logout" asp-area="">
                    <i class="fas fa-sign-out-alt"></i> Đăng xuất
                </a>
            </div>
        </nav>

        <main class="main-content">
            @RenderBody()
        </main>

        <script src="~/lib/jquery/dist/jquery.min.js"></script>
        <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
        <script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
        <script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>

        @await RenderSectionAsync("Scripts", required: false)
    </body>
    </html>
    @section Scripts {
        <script>
            // Xử lý sự kiện nhấn nút hamburger
            $(function() {
                $('#sidebarToggle').on('click', function() {
                    $('.sidebar').toggleClass('is-visible');
                });
            });
        </script>

        @* Giữ lại các script khác nếu có *@
    }